<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>{{ title or "Laptop Web Shop" }}</title>
  <style>
    body { font-family: system-ui, sans-serif; margin: 0; padding: 0; background: #f7f8fa; color: #1f2933; }
    .header { background: #fff; padding: 1rem 0; border-bottom: 1px solid #e5e7eb; }
    .container { max-width: 1100px; margin: 0 auto; padding: 0 1rem; }
    .brand { font-size: 1.25rem; font-weight: 700; }
    .nav { display: flex; gap: 1rem; align-items: center; }
    .nav a { color: #1f2933; text-decoration: none; font-weight: 500; }
    .nav a:hover { text-decoration: underline; }
    .top { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 0.5rem; }
    .card { background: #fff; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,.08); border: 1px solid #e5e7eb; overflow: hidden; }
    .product-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 1.5rem; }
    .product-card .img-wrap { height: 180px; background: #eee; display: flex; align-items: center; justify-content: center; }
    .product-card .img-wrap img { width: 100%; height: 100%; object-fit: cover; }
    .product-card .body { padding: 1rem; }
    .product-card h5 { margin: 0 0 0.25rem 0; }
    .text-muted { color: #6b7280; font-size: 0.9rem; }
    .py-4 { padding-top: 2rem; padding-bottom: 2rem; }
    .mb-4 { margin-bottom: 1.5rem; }
    .btn { display: inline-block; padding: 0.5rem 1rem; border-radius: 6px; text-decoration: none; font-weight: 500; }
    .btn-primary { background: #2563eb; color: #fff; }
    .btn-primary:hover { background: #1d4ed8; }
    .btn-success { background: #059669; color: #fff; }
    .btn-success:hover { background: #047857; }
    .btn-outline { background: transparent; border: 1px solid #d1d5db; color: #374151; }
    .btn-outline:hover { background: #f3f4f6; }
    .detail-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem; }
    .detail-row { display: flex; justify-content: space-between; }
    .images-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 0.5rem; }
    .images-grid img { width: 100%; height: auto; object-fit: cover; border-radius: 4px; }
    .footer { text-align: center; padding: 1.5rem; font-size: 0.875rem; color: #6b7280; margin-top: 2rem; border-top: 1px solid #e5e7eb; background: #fff; }
  </style>
  {% block head %}{% endblock %}
</head>
<body>
  <header class="header">
    <div class="container top">
      <span class="brand">Laptop Web Shop</span>
      <nav class="nav">
        <a href="{{ url_for('home') }}">Home</a>
        <a href="{{ url_for('products.list_products') }}">Products</a>
        <a href="{{ url_for('cart.view_cart') }}">Cart</a>
        <a href="{{ url_for('admin_panel') }}">Admin</a>
      </nav>
    </div>
  </header>
  <div class="container py-4">
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, msg in messages %}
        <div class="flash-msg" style="padding: 0.5rem 1rem; margin-bottom: 1rem; border-radius: 6px; background: {% if category == 'error' %}#fef2f2; color: #b91c1c;{% else %}#f0fdf4; color: #166534;{% endif %}">{{ msg }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}
    {% block content %}{% endblock %}
  </div>
  <footer class="footer">
    Â© 2025 Laptop Web Shop
  </footer>
</body>
</html>
